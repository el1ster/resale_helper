# Сесія 1 - 2026-02-19

## Статус
- Ініціалізація проєкту та налаштування системи сесійних дампів.
- Прочитано файл `GEMINI.md` з інструкціями.
- Проведено критичний аналіз базової структури БД, обговорено з користувачем.
- Узгоджено спрощену, але ефективну схему БД (категорії = групи амортизації).
- Створено файл `database.py` з логікою ініціалізації таблиць (sqlite3).
- **Етап 1 завершено:** Додано та протестовано функцію `seed_db` для наповнення БД початковими категоріями (9 шт.) та коефіцієнтами з продуманим UX (`sort_order`, реалістичні множники).
- Створено файл технічної документації `docs/lifespan_rationale.md` з аргументацією щодо строків амортизації категорій.
- Налаштовано Git-репозиторій: створено `.gitignore`, зроблено перший коміт та надіслано код (push) у віддалений репозиторій на GitHub (гілка main).
- **Етап 2 завершено:** Розроблено `engine.py` (ValuationEngine) з експоненційним знеціненням (Price Floor = 10%). Додано обробку вінтажних пристроїв ("New Old Stock"). Написано та успішно пройдено unit-тести у `tests/test_engine.py`. Додано технічну документацію `docs/valuation_model_rationale.md`. Оновлено БД (додано статус "sealed").

## Заплановано
- Зафіксувати зміни Етапу 2 у Git (коміт та push).
- Перехід до Етапу 3: Bot & FSM. Налаштування Telegram-бота (aiogram 3.x), створення машини станів (FSM) для процесу оцінки.

## Відкладено
- Написання асинхронних CRUD-методів для БД (буде створено `crud.py` на початку Етапу 3 для зв'язку між aiogram та sqlite).

## Нотатки контексту
- **Аналіз БД**: Вирішено не розділяти категорії та групи амортизації, оскільки бот оперуватиме глобальними поняттями (техніка, меблі). Додано підтримку валют та `sort_order` для кнопок.
- **Математичний рушій**: Відмовились від лінійної амортизації на користь експоненційної (з мінімальним порогом залишкової вартості 10% для робочих пристроїв та 1% для брухту). Додано концепцію "New Old Stock" (запечатаний ретро-товар: фіксований K_age = 0.8).
- Проєкт: Універсальна система оцінки активів (EVS Bot).
- Модель оцінки: $P_{res} = P_{base} \cdot K_{age} \cdot K_{phys} \cdot K_{tech} \cdot K_{comp} \cdot K_{warn} \cdot K_{brand} \cdot K_{urgent}$.
- Основні технології: Python 3.10+, aiogram 3.x, SQLite.
- Мовна політика: Технічна документація, код, коментарі та UI — **українською**. Обговорення та пояснення — **російською**.